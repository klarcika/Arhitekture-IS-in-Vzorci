<!DOCTYPE html>
<html
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:p="http://primefaces.org/ui"
>

<h:head>
	<meta charset="UTF-8"/>
	<title>Pacienti</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
</h:head>

<h:body>
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		<a class="navbar-brand" href="index.html">(Umo)Bolnica</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link"
					   href="#{facesContext.externalContext.applicationContextPath}/faces/dodajZdravnika.xhtml">Zdravniki</a>
				</li>
				<li class="nav-item">
					<a class="nav-link"
					   href="#{facesContext.externalContext.applicationContextPath}/faces/dodaj.xhtml">Pacienti</a>
				</li>
				<li class="nav-item">
					<a class="nav-link"
					   href="#{facesContext.externalContext.applicationContextPath}/faces/pregled.xhtml">Pregled Stanja</a>
				</li>
			</ul>
		</div>
	</nav>

	<h1 class="mt-4">Vsi Pacienti</h1>
	<h:form>
		<div class="table-responsive">
			<h:dataTable value="#{demo.vsiPacienti}" var="o"
						 styleClass="table table-striped">
				<h:column>
					<f:facet name="header">Email</f:facet>
					<h:link value="#{o.email}" outcome="vse">
						<f:param name="email" value="#{o.email}" />
					</h:link>
				</h:column>
				<h:column>
					<f:facet name="header">Priimek</f:facet>
					#{o.priimek}
				</h:column>
				<h:column>
					<f:facet name="header">Ime</f:facet>
					#{o.ime}
				</h:column>
				<h:column>
					<f:facet name="header">Datum rojstva</f:facet>
					#{o.datumRojstva}
				</h:column>
				<h:column>
					<f:facet name="header">Zdravnik</f:facet>
					#{o.zdravnik.email} #{o.zdravnik.ime} #{o.zdravnik.priimek}
				</h:column>
				<h:column>
					<f:facet name="header">Posebnosti</f:facet>
					#{o.posebnosti}
				</h:column>

			</h:dataTable>
		</div>


	</h:form>

	<h1 class="mt-4">Dodaj pacienta</h1>

	<h:form class="mt-4">
		<div class="form-group row">
			<label for="ime" class="col-sm-2 col-form-label">Ime:</label>
			<div class="col-sm-10">
				<h:inputText id="ime" value="#{demo.izbranPacient.ime}" class="form-control"
							 style="width: 15%"></h:inputText>
			</div>
		</div>
		<div class="form-group row">
			<label for="priimek" class="col-sm-2 col-form-label">Priimek:</label>
			<div class="col-sm-10">
				<h:inputText id="priimek" value="#{demo.izbranPacient.priimek}" class="form-control"
							 style="width: 15%"></h:inputText>
			</div>
		</div>
		<div class="form-group row">
			<label for="email" class="col-sm-2 col-form-label">Email:</label>
			<div class="col-sm-10">
				<h:inputText id="email" value="#{demo.izbranPacient.email}" class="form-control"
							 style="width: 15%"></h:inputText>
			</div>
		</div>
		<div class="form-group row">
			<label class="col-sm-2 col-form-label">Datum rojstva:</label>
			<div class="col-sm-10">
				<p:calendar value="#{demo.izbranPacient.datumRojstva}"
							locale="sl"
							showOn="button"
							pattern="dd.MM.yyyy"
							inputStyle="width: 15%"/>
			</div>
		</div>
		<div class="form-group row">
			<label for="posebnosti" class="col-sm-2 col-form-label">Posebnosti:</label>
			<div class="col-sm-10">
				<h:inputTextarea row = "10" col = "10" id="posebnosti" value="#{demo.izbranPacient.posebnosti}" class="form-control"
								 style="width: 15%" />
			</div>
		</div>
		<div class="form-group row">
			<label for="zdravniki" class="col-sm-2 col-form-label">Zdravnik:</label>
			<div class="col-sm-10">
				<h:selectOneMenu id="zdravniki" value="#{demo.izbranPacient.zdravnik}" converter="omnifaces.SelectItemsConverter">
					<f:selectItems value="#{demors.vsiZdravniki}" var="z" itemValue="#{z}" itemLabel="#{z.ime} #{z.priimek} #{z.email}"/>
				</h:selectOneMenu>
			</div>
		</div>
		<div class="form-group row">
			<div class="col-sm-4 text-right">
				<h:commandButton value="Dodaj" action="#{demo.shraniPacienta()}"
								 class="btn btn-success"></h:commandButton>
			</div>
		</div>
	</h:form>




</h:body>

</html>